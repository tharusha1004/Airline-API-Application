{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\EAD-CW\\\\flight-ui\\\\src\\\\components\\\\Index.js\";\nimport React, { Component } from 'react';\nimport toastr from 'cogo-toast';\nimport Create from './Create';\nimport Edit from './Edit';\nimport axios from 'axios';\n\nclass Index extends Component {\n  constructor() {\n    super(); //--- Declare state variable for this component ---//\n\n    this.state = {\n      flights: [{\n        id: 1,\n        aircraft_iata: \"A40\",\n        airline_iata: \"AC\",\n        airline_name: \"SriLankan Airlines\",\n        flight_date: \"2022-09-28\",\n        flight_status: \"DELAY\"\n      }, {\n        id: 2,\n        aircraft_iata: \"AA6\",\n        airline_iata: \"UQ\",\n        airline_name: \"Qatar Airways\",\n        flight_date: \"2022-09-29\",\n        flight_status: \"ARRIVED\"\n      }, {\n        id: 3,\n        aircraft_iata: \"UC2\",\n        airline_iata: \"JH\",\n        airline_name: \"Ukraine Airlines\",\n        flight_date: \"2022-09-29\",\n        flight_status: \"DELAY\"\n      }],\n      editFlight: {} //--- Declare method for this component ---//\n      // this.handleUpdateState = this.handleUpdateState.bind(this);\n\n    };\n    this.setFlightData();\n  }\n\n  setFlightData() {\n    axios.get(\"http://localhost:8082/v1/all-flights\").then(res => {\n      flights: res.data;\n    });\n  } //--- Update state variable while any user insert or update ---//\n\n\n  handleUpdateState(data, operation) {\n    //--- 'operation==1' means update user ---//\n    if (operation === 1) {\n      this.setState(prevState => ({\n        flights: prevState.flights.filter(flight => {\n          if (flight.id === data.id) return Object.assign(flight, data);else return flight;\n        })\n      }));\n      return;\n    } //--- 'operation==0' means insert user ---//\n\n\n    var new_flights = this.state.flights.concat(data);\n    this.setState({\n      flights: new_flights\n    });\n  } //--- Find editable user and update state variable ---//\n\n\n  handleEditFlight(flightId) {\n    this.setState({\n      editFlight: this.state.flights.find(x => x.id === flightId)\n    });\n  } //--- Delete user and update state ---//\n\n\n  handleDeleteFlight(id) {\n    this.setState(prevState => ({\n      flights: prevState.flights.filter((flight, i) => {\n        return i !== id;\n      })\n    }));\n    toastr.error('Flight has been deleted successfully!', {\n      position: 'top-right',\n      heading: 'Done'\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"card mt-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \" Flights \"), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary btn-sm pull-right\",\n      \"data-toggle\": \"modal\",\n      \"data-target\": \"#addModal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \" Add Flight \")), React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table table-bordered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \" Id \"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \" Aircraft IATA Code \"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \" Airline IATA Code \"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \" Airline Name \"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \" Flight Date  \"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \" Flight Status \"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, this.state.flights.map((flight, i) => React.createElement(\"tr\", {\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \" \", flight.id, \" \"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \" \", flight.aircraft_iata, \" \"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \" \", flight.airline_iata, \" \"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \" \", flight.airline_name, \" \"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \" \", flight.flight_date, \" \"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \" \", flight.flight_status, \" \"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-info btn-sm mr-2\",\n      onClick: this.handleEditFlight.bind(this, flight.id),\n      \"data-toggle\": \"modal\",\n      \"data-target\": \"#editModal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \" Edit \"), React.createElement(\"button\", {\n      className: \"btn btn-danger btn-sm\",\n      onClick: this.handleDeleteFlight.bind(this, i),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \" Delete \")))))))), React.createElement(Create, {\n      updateState: this.handleUpdateState,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(Edit, {\n      updateState: this.handleUpdateState,\n      flight: this.state.editFlight,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Index;","map":{"version":3,"sources":["C:\\Users\\Asus\\Desktop\\EAD-CW\\flight-ui\\src\\components\\Index.js"],"names":["React","Component","toastr","Create","Edit","axios","Index","constructor","state","flights","id","aircraft_iata","airline_iata","airline_name","flight_date","flight_status","editFlight","setFlightData","get","then","res","data","handleUpdateState","operation","setState","prevState","filter","flight","Object","assign","new_flights","concat","handleEditFlight","flightId","find","x","handleDeleteFlight","i","error","position","heading","render","map","bind"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\r\nimport toastr from 'cogo-toast';\r\nimport Create from './Create'\r\nimport Edit from './Edit'\r\nimport axios from 'axios';\r\n\r\nclass Index extends Component\r\n{\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\t//--- Declare state variable for this component ---//\r\n\t\tthis.state = {\r\n\t\t\tflights     : [\r\n\t\t\t\t{id : 1, aircraft_iata : \"A40\", airline_iata : \"AC\", airline_name : \"SriLankan Airlines\", flight_date : \"2022-09-28\", flight_status : \"DELAY\"},\r\n\t\t\t\t{id : 2, aircraft_iata : \"AA6\", airline_iata : \"UQ\", airline_name : \"Qatar Airways\", flight_date : \"2022-09-29\", flight_status : \"ARRIVED\"},\r\n\t\t\t\t{id : 3, aircraft_iata : \"UC2\", airline_iata : \"JH\", airline_name : \"Ukraine Airlines\", flight_date : \"2022-09-29\", flight_status : \"DELAY\"}\r\n\t\t\t],\r\n\t\t\teditFlight : {}\r\n\t\t}\r\n\t\t//--- Declare method for this component ---//\r\n\t\t// this.handleUpdateState = this.handleUpdateState.bind(this);\r\n\t\tthis.setFlightData()\r\n\t}\r\n\r\n\tsetFlightData() {\r\n\t\taxios.get(\"http://localhost:8082/v1/all-flights\")\r\n\t\t\t.then(\r\n\t\t\t\tres=> {\r\n\t\t\t\t\tflights : res.data\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t}\r\n\r\n\t//--- Update state variable while any user insert or update ---//\r\n\thandleUpdateState(data, operation) {\r\n\t\t//--- 'operation==1' means update user ---//\r\n\t\tif(operation === 1) {\r\n\t\t\tthis.setState(prevState => ({\r\n\t\t\t\tflights : prevState.flights.filter(flight => {\r\n\t\t\t\t\tif(flight.id === data.id)\r\n\t\t\t\t\t\treturn Object.assign(flight, data);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\treturn flight;\r\n\t\t\t\t})\r\n\t\t\t}))\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t//--- 'operation==0' means insert user ---//\r\n\t\tvar new_flights = this.state.flights.concat(data);\r\n\t\tthis.setState({\r\n\t\t\tflights : new_flights\r\n\t\t})\r\n\t}\r\n\t//--- Find editable user and update state variable ---//\r\n\thandleEditFlight(flightId) {\r\n\t\tthis.setState({\r\n\t\t\teditFlight : this.state.flights.find(x => x.id === flightId)\r\n\t\t})\r\n\t}\r\n\t//--- Delete user and update state ---//\r\n\thandleDeleteFlight(id) {\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tflights : prevState.flights.filter((flight, i) => {\r\n\t\t\t\treturn i !== id;\r\n\t\t\t})\r\n\t\t}))\r\n\t\ttoastr.error('Flight has been deleted successfully!', {position : 'top-right', heading: 'Done'});\r\n\t}\r\n\r\n    render() {\r\n\r\n\t\t\r\n      return(\r\n          \t<div className=\"card mt-4\">\r\n\t\t\t    <div className=\"card-header\">\r\n\t\t\t        <h4 className=\"card-title\"> Flights </h4>\r\n\t\t\t        <button type=\"button\" className=\"btn btn-primary btn-sm pull-right\" data-toggle=\"modal\" data-target=\"#addModal\"> Add Flight </button>\r\n\t\t\t    </div>\r\n\t\t\t    <div className=\"card-body\">\r\n\t\t\t        <div className=\"col-md-12\">\r\n                        <table className=\"table table-bordered\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th> Id </th>\r\n                                    <th> Aircraft IATA Code </th>\r\n                                    <th> Airline IATA Code </th>\r\n                                    <th> Airline Name </th>\r\n\t\t\t\t\t\t\t\t\t<th> Flight Date  </th>\r\n                                    <th> Flight Status </th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            {this.state.flights.map((flight, i) => (\r\n                                <tr key={i}>\r\n                                    <td> {flight.id} </td>\r\n                                    <td> {flight.aircraft_iata} </td>\r\n                                    <td> {flight.airline_iata} </td>\r\n                                    <td> {flight.airline_name} </td>\r\n\t\t\t\t\t\t\t\t\t<td> {flight.flight_date} </td>\r\n                                    <td> {flight.flight_status} </td>\r\n                                    <td>\r\n                                        <button className=\"btn btn-info btn-sm mr-2\" onClick={this.handleEditFlight.bind(this, flight.id)} data-toggle=\"modal\" data-target=\"#editModal\"> Edit </button>\r\n                                        <button className=\"btn btn-danger btn-sm\" onClick={this.handleDeleteFlight.bind(this, i)}> Delete </button>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                            </tbody>\r\n                        </table>\r\n\t\t\t        </div>\r\n\t\t\t    </div>\r\n\t\t\t    <Create updateState = {this.handleUpdateState} />\r\n\t\t\t    <Edit updateState = {this.handleUpdateState} flight = {this.state.editFlight} />\r\n\t\t\t</div>\r\n        )\r\n    }\r\n}\r\nexport default Index"]},"metadata":{},"sourceType":"module"}