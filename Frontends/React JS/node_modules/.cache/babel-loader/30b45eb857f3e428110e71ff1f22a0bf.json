{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\EAD-CW\\\\flight-ui\\\\src\\\\components\\\\Index.js\";\nimport React, { Component } from 'react';\nimport toastr from 'cogo-toast';\nimport Create from './Create';\nimport Edit from './Edit';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport AddFlight from './AddFlight';\n\nclass Index extends Component {\n  constructor() {\n    super(); //--- Declare state variable for this component ---//\n\n    this.state = {\n      flights: [],\n      editFlight: {} //--- Declare method for this component ---//\n      // call the microservice\n\n    };\n    this.handleAxiosGet();\n  } // Get Airports from flight microservice\n\n\n  handleAxiosGet() {\n    axios.get(\"http://localhost:8082/v1/all-flights\").then(res => {\n      this.setState({\n        flights: res.data\n      });\n      console.log(res.data);\n    });\n  }\n\n  handleDeleteFlight(id) {\n    axios.delete('http://127.0.0.1:8082/v1/flights/' + id).then(toastr.success('Flight has successfully deleted!', {\n      position: 'top-right',\n      heading: 'Done'\n    }), setTimeout(() => window.location.reload(), 5000));\n  }\n\n  editEmployee(id) {\n    this.props.history.push(\"/add-employee/\".concat(id));\n  } //--- Update state variable while any user insert or update ---//\n  // handleUpdateState(data, operation) {\n  // \t//--- 'operation==1' means update user ---//\n  // \tif(operation === 1) {\n  // \t\tthis.setState(prevState => ({\n  // \t\t\tflights : prevState.flights.filter(flight => {\n  // \t\t\t\tif(flight.id === data.id)\n  // \t\t\t\t\treturn Object.assign(flight, data);\n  // \t\t\t\telse\n  // \t\t\t\t\treturn flight;\n  // \t\t\t})\n  // \t\t}))\n  // \t\treturn;\n  // \t}\n  // \t//--- 'operation==0' means insert user ---//\n  // \tvar new_flights = this.state.flights.concat(data);\n  // \tthis.setState({\n  // \t\tflights : new_flights\n  // \t})\n  // }\n  //--- Find editable user and update state variable ---//\n  // handleEditFlight(flightId) {\n  // \tthis.setState({\n  // \t\teditFlight : this.state.flights.find(x => x.id === flightId)\n  // \t})\n  // }\n  //--- Delete user and update state ---//\n\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"card mt-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \" Flights \"), React.createElement(Link, {\n      to: \"/add-flight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary btn-sm pull-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \" Add Flight \"))), React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table table-bordered \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \" Id \"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \" Aircraft IATA Code \"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \" Airline IATA Code \"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \" Airline Name \"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \" Flight Date  \"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \" Departure \"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \" Arrival \"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \" Action \"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, this.state.flights.map(flightx => React.createElement(\"tr\", {\n      key: flightx.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \" \", flightx.id, \" \"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \" \", flightx.aircraft_iata, \" \"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \" \", flightx.airline_iata, \" \"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \" \", flightx.airline_name, \" \"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \" \", flightx.flight_date, \" \"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \" \", flightx.segments[0].country, \" \"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \" \", flightx.segments[1].country), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-info btn-sm mr-2\",\n      onClick: this.editEmployee(flightx.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \" Edit \"), React.createElement(\"button\", {\n      className: \"btn btn-danger btn-sm\",\n      onClick: this.handleDeleteFlight.bind(this, flightx.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \" Delete \")))))))), React.createElement(Create, {\n      updateState: this.handleUpdateState,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }), React.createElement(Edit, {\n      updateState: this.handleUpdateState,\n      flight: this.state.editFlight,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Index;","map":{"version":3,"sources":["C:\\Users\\Asus\\Desktop\\EAD-CW\\flight-ui\\src\\components\\Index.js"],"names":["React","Component","toastr","Create","Edit","axios","Link","AddFlight","Index","constructor","state","flights","editFlight","handleAxiosGet","get","then","res","setState","data","console","log","handleDeleteFlight","id","delete","success","position","heading","setTimeout","window","location","reload","editEmployee","props","history","push","render","map","flightx","aircraft_iata","airline_iata","airline_name","flight_date","segments","country","bind","handleUpdateState"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,SAAP,MAAsB,aAAtB;;AAEA,MAAMC,KAAN,SAAoBP,SAApB,CACA;AACCQ,EAAAA,WAAW,GAAG;AACb,YADa,CAEb;;AACA,SAAKC,KAAL,GAAa;AACZC,MAAAA,OAAO,EAAO,EADF;AAEZC,MAAAA,UAAU,EAAG,EAFD,CAIb;AACA;;AALa,KAAb;AAMA,SAAKC,cAAL;AACA,GAXF,CAaC;;;AACAA,EAAAA,cAAc,GAAG;AAChBR,IAAAA,KAAK,CAACS,GAAN,CAAU,sCAAV,EACEC,IADF,CAEEC,GAAG,IAAI;AACN,WAAKC,QAAL,CAAc;AAACN,QAAAA,OAAO,EAAEK,GAAG,CAACE;AAAd,OAAd;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACE,IAAhB;AACA,KALH;AAOC;;AAEFG,EAAAA,kBAAkB,CAACC,EAAD,EAAK;AACtBjB,IAAAA,KAAK,CAACkB,MAAN,CAAa,sCAAqCD,EAAlD,EACEP,IADF,CAEGb,MAAM,CAACsB,OAAP,CAAe,kCAAf,EAAmD;AAACC,MAAAA,QAAQ,EAAG,WAAZ;AAAyBC,MAAAA,OAAO,EAAE;AAAlC,KAAnD,CAFH,EAGGC,UAAU,CAAC,MAAKC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAAN,EAAgC,IAAhC,CAHb;AAKC;;AAEFC,EAAAA,YAAY,CAACT,EAAD,EAAK;AAChB,SAAKU,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,yBAAyCZ,EAAzC;AACA,GAlCF,CAmCC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEGa,EAAAA,MAAM,GAAG;AACP,WACK;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACJ;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,EAEF,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACM;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,SAAS,EAAC,mCAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADN,CAFE,CADI,EAOJ;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACa;AAAO,MAAA,SAAS,EAAC,uBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJJ,EAKvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBALuB,EAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBANJ,EAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAPJ,EAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARJ,CADJ,CADJ,EAaI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEpB,KAAKzB,KAAL,CAAWC,OAAX,CAAmByB,GAAnB,CAAuBC,OAAO,IAC7B;AAAI,MAAA,GAAG,EAAEA,OAAO,CAACf,EAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAMe,OAAO,CAACf,EAAd,MADD,EAE4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAMe,OAAO,CAACC,aAAd,MAF5B,EAGyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAMD,OAAO,CAACE,YAAd,MAHzB,EAIyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAMF,OAAO,CAACG,YAAd,MAJzB,EAKC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAMH,OAAO,CAACI,WAAd,MALD,EAMyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAMJ,OAAO,CAACK,QAAR,CAAiB,CAAjB,EAAoBC,OAA1B,MANzB,EAOC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAMN,OAAO,CAACK,QAAR,CAAiB,CAAjB,EAAoBC,OAA1B,CAPD,EAQyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE;AAAQ,MAAA,SAAS,EAAC,0BAAlB;AAA6C,MAAA,OAAO,EAAE,KAAKZ,YAAL,CAAkBM,OAAO,CAACf,EAA1B,CAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,EAIC;AAAQ,MAAA,SAAS,EAAC,uBAAlB;AAA0C,MAAA,OAAO,EAAE,KAAKD,kBAAL,CAAwBuB,IAAxB,CAA6B,IAA7B,EAAmCP,OAAO,CAACf,EAA3C,CAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJD,CARzB,CADD,CAFoB,CAbJ,CADb,CADJ,CAPI,EA8CJ,oBAAC,MAAD;AAAQ,MAAA,WAAW,EAAI,KAAKuB,iBAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA9CI,EA+CJ,oBAAC,IAAD;AAAM,MAAA,WAAW,EAAI,KAAKA,iBAA1B;AAA6C,MAAA,MAAM,EAAI,KAAKnC,KAAL,CAAWE,UAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA/CI,CADL;AAmDD;;AAnHL;;AAqHA,eAAeJ,KAAf","sourcesContent":["import React, {Component} from 'react'\r\nimport toastr from 'cogo-toast';\r\nimport Create from './Create'\r\nimport Edit from './Edit'\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport AddFlight from './AddFlight';\r\n\r\nclass Index extends Component\r\n{\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\t//--- Declare state variable for this component ---//\r\n\t\tthis.state = {\r\n\t\t\tflights     : [],\r\n\t\t\teditFlight : {},\r\n\t\t}\r\n\t\t//--- Declare method for this component ---//\r\n\t\t// call the microservice\r\n\t\tthis.handleAxiosGet();\r\n\t}\r\n\r\n\t// Get Airports from flight microservice\r\n\thandleAxiosGet() {\r\n\t\taxios.get(\"http://localhost:8082/v1/all-flights\")\r\n\t\t\t.then(\r\n\t\t\t\tres => {\r\n\t\t\t\t\tthis.setState({flights: res.data});\r\n\t\t\t\t\tconsole.log(res.data)\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\thandleDeleteFlight(id) {\r\n\t\taxios.delete('http://127.0.0.1:8082/v1/flights/'+ id)\r\n\t\t\t.then(\r\n\t\t\t\t\ttoastr.success('Flight has successfully deleted!', {position : 'top-right', heading: 'Done'}),\r\n\t\t\t\t\tsetTimeout(()=> window.location.reload(), 5000)\r\n\t\t\t)\r\n\t\t}\r\n\r\n\teditEmployee(id) {\r\n\t\tthis.props.history.push(`/add-employee/${id}`);\r\n\t}\r\n\t//--- Update state variable while any user insert or update ---//\r\n\t// handleUpdateState(data, operation) {\r\n\t// \t//--- 'operation==1' means update user ---//\r\n\t// \tif(operation === 1) {\r\n\t// \t\tthis.setState(prevState => ({\r\n\t// \t\t\tflights : prevState.flights.filter(flight => {\r\n\t// \t\t\t\tif(flight.id === data.id)\r\n\t// \t\t\t\t\treturn Object.assign(flight, data);\r\n\t// \t\t\t\telse\r\n\t// \t\t\t\t\treturn flight;\r\n\t// \t\t\t})\r\n\t// \t\t}))\r\n\t// \t\treturn;\r\n\t// \t}\r\n\t// \t//--- 'operation==0' means insert user ---//\r\n\t// \tvar new_flights = this.state.flights.concat(data);\r\n\t// \tthis.setState({\r\n\t// \t\tflights : new_flights\r\n\t// \t})\r\n\t// }\r\n\t//--- Find editable user and update state variable ---//\r\n\t// handleEditFlight(flightId) {\r\n\t// \tthis.setState({\r\n\t// \t\teditFlight : this.state.flights.find(x => x.id === flightId)\r\n\t// \t})\r\n\t// }\r\n\t//--- Delete user and update state ---//\r\n\r\n    render() {\r\n      return(\r\n          \t<div className=\"card mt-4\">\r\n\t\t\t    <div className=\"card-header\">\r\n\t\t\t        <h4 className=\"card-title\"> Flights </h4>\r\n\t\t\t\t\t<Link to=\"/add-flight\">\r\n\t\t\t        <button type=\"button\" className=\"btn btn-primary btn-sm pull-right\" > Add Flight </button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t    </div>\r\n\t\t\t    <div className=\"card-body\">\r\n\t\t\t        <div className=\"col-md-12\">\r\n                        <table className=\"table table-bordered \">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th> Id </th>\r\n                                    <th> Aircraft IATA Code </th>\r\n                                    <th> Airline IATA Code </th>\r\n                                    <th> Airline Name </th>\r\n\t\t\t\t\t\t\t\t\t<th> Flight Date  </th>\r\n                                    <th> Departure </th>\r\n                                    <th> Arrival </th>\r\n                                    <th> Action </th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            {\r\n\t\t\t\t\t\t\t\tthis.state.flights.map(flightx=>(\r\n\t\t\t\t\t\t\t\t\t<tr key={flightx.id}>\r\n\t\t\t\t\t\t\t\t\t\t<td> {flightx.id} </td>\r\n                                \t    <td> {flightx.aircraft_iata} </td>\r\n                                \t\t<td> {flightx.airline_iata} </td>\r\n                                \t\t<td> {flightx.airline_name} </td>\r\n\t\t\t\t\t\t\t\t\t\t<td> {flightx.flight_date} </td>\r\n                                \t\t<td> {flightx.segments[0].country} </td>\r\n\t\t\t\t\t\t\t\t\t\t<td> {flightx.segments[1].country}</td>\r\n                                \t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t{/* <Link to={'edit-flight/'+flightx.id}> */}\r\n                                \t\t\t\t<button className=\"btn btn-info btn-sm mr-2\" onClick={this.editEmployee(flightx.id)}> Edit </button>\r\n\t\t\t\t\t\t\t\t\t\t\t{/* </Link> */}\r\n                                \t\t\t<button className=\"btn btn-danger btn-sm\" onClick={this.handleDeleteFlight.bind(this, flightx.id)}> Delete </button>\r\n                                \t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n                            </tbody>\r\n                        </table>\r\n\t\t\t        </div>\r\n\t\t\t    </div>\r\n\t\t\t    <Create updateState = {this.handleUpdateState} />\r\n\t\t\t    <Edit updateState = {this.handleUpdateState} flight = {this.state.editFlight} />\r\n\t\t\t</div>\r\n        )\r\n    }\r\n}\r\nexport default Index"]},"metadata":{},"sourceType":"module"}