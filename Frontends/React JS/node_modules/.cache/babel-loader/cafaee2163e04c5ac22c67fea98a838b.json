{"ast":null,"code":"function ___$insertStyle(e) {\n  if (e && window) {\n    const n = document.createElement(\"style\");\n    return n.setAttribute(\"type\", \"text/css\"), n.innerHTML = e, document.head.appendChild(n), e;\n  }\n}\n\nfunction _interopDefault(e) {\n  return e && \"object\" == typeof e && \"default\" in e ? e.default : e;\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n});\n\nvar ReactDOM = require(\"react-dom\"),\n    ReactDOM__default = _interopDefault(ReactDOM),\n    React = require(\"react\"),\n    React__default = _interopDefault(React);\n\nfunction __awaiter(a, l, c, i) {\n  return new (c = c || Promise)(function (e, n) {\n    function t(e) {\n      try {\n        r(i.next(e));\n      } catch (e) {\n        n(e);\n      }\n    }\n\n    function o(e) {\n      try {\n        r(i.throw(e));\n      } catch (e) {\n        n(e);\n      }\n    }\n\n    function r(n) {\n      n.done ? e(n.value) : new c(function (e) {\n        e(n.value);\n      }).then(t, o);\n    }\n\n    r((i = i.apply(a, l || [])).next());\n  });\n}\n\nfunction __generator(t, o) {\n  var r,\n      a,\n      l,\n      c = {\n    label: 0,\n    sent: function () {\n      if (1 & l[0]) throw l[1];\n      return l[1];\n    },\n    trys: [],\n    ops: []\n  },\n      e = {\n    next: n(0),\n    throw: n(1),\n    return: n(2)\n  };\n  return \"function\" == typeof Symbol && (e[Symbol.iterator] = function () {\n    return this;\n  }), e;\n\n  function n(n) {\n    return function (e) {\n      return function (n) {\n        if (r) throw new TypeError(\"Generator is already executing.\");\n\n        for (; c;) try {\n          if (r = 1, a && (l = 2 & n[0] ? a.return : n[0] ? a.throw || ((l = a.return) && l.call(a), 0) : a.next) && !(l = l.call(a, n[1])).done) return l;\n\n          switch (a = 0, (n = l ? [2 & n[0], l.value] : n)[0]) {\n            case 0:\n            case 1:\n              l = n;\n              break;\n\n            case 4:\n              return c.label++, {\n                value: n[1],\n                done: !1\n              };\n\n            case 5:\n              c.label++, a = n[1], n = [0];\n              continue;\n\n            case 7:\n              n = c.ops.pop(), c.trys.pop();\n              continue;\n\n            default:\n              if (!(l = 0 < (l = c.trys).length && l[l.length - 1]) && (6 === n[0] || 2 === n[0])) {\n                c = 0;\n                continue;\n              }\n\n              if (3 === n[0] && (!l || n[1] > l[0] && n[1] < l[3])) {\n                c.label = n[1];\n                break;\n              }\n\n              if (6 === n[0] && c.label < l[1]) {\n                c.label = l[1], l = n;\n                break;\n              }\n\n              if (l && c.label < l[2]) {\n                c.label = l[2], c.ops.push(n);\n                break;\n              }\n\n              l[2] && c.ops.pop(), c.trys.pop();\n              continue;\n          }\n\n          n = o.call(t, c);\n        } catch (e) {\n          n = [6, e], a = 0;\n        } finally {\n          r = l = 0;\n        }\n\n        if (5 & n[0]) throw n[1];\n        return {\n          value: n[0] ? n[1] : void 0,\n          done: !0\n        };\n      }([n, e]);\n    };\n  }\n}\n\nvar nameGenerator = function () {\n  return \"_\" + Math.random().toString(36).substr(2, 9);\n},\n    mountRootId = \"confirm-box-root\" + nameGenerator(),\n    Portal = function (e) {\n  var e = e.children,\n      n = document.getElementById(mountRootId),\n      t = document.createElement(\"div\");\n  return React.useEffect(function () {\n    return n.appendChild(t), function () {\n      return n.removeChild(t);\n    };\n  }, [t, n]), ReactDOM.createPortal(e, t);\n};\n\n___$insertStyle(\".confirm-box {\\n  z-index: 1000;\\n  position: absolute;\\n  left: 45%;\\n  top: 45%;\\n}\\n.confirm-box__content {\\n  z-index: 300;\\n  background-color: #fff;\\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\\n  padding: 1em;\\n  border-radius: 5px;\\n  width: 300px;\\n  max-width: 400px;\\n}\\n.confirm-box__overlay {\\n  z-index: -1;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100vw;\\n  height: 100vh;\\n  background-color: rgba(0, 0, 0, 0.1);\\n}\\n.confirm-box__actions {\\n  display: flex;\\n  padding-top: 1em;\\n  justify-content: flex-end;\\n}\\n.confirm-box__actions > :not(:last-child) {\\n  margin-right: 1em;\\n}\");\n\nvar ConfirmBox = function (e) {\n  function n() {\n    d(!1), l(!0);\n  }\n\n  function t() {\n    d(!1), l(!1);\n  }\n\n  var o,\n      r,\n      a,\n      l = e.resolver,\n      c = e.message,\n      i = e.options,\n      u = React.useState(!0),\n      e = u[0],\n      d = u[1];\n  return e ? React__default.createElement(\"div\", {\n    className: \"confirm-box\"\n  }, (o = (i || {}).classNames, r = \"confirm-box__content \" + ((null == o ? void 0 : o.container) || \"\") + \"\\n    \", a = ((null == o ? void 0 : o.buttons) || \"\") + \" \" + ((null == o ? void 0 : o.confirmButton) || \"\") + \"\\n    \", o = ((null == o ? void 0 : o.buttons) || \"\") + \" \" + ((null == o ? void 0 : o.cancelButton) || \"\"), null != i && i.render ? i.render(c, n, t) : React__default.createElement(\"div\", {\n    className: r\n  }, React__default.createElement(\"span\", null, c), React__default.createElement(\"div\", {\n    className: \"confirm-box__actions\"\n  }, React__default.createElement(\"button\", {\n    onClick: n,\n    role: \"confirmable-button\",\n    className: a\n  }, null !== (a = null == i ? void 0 : i.labels) && void 0 !== a && a.confirmable ? null === (a = null == i ? void 0 : i.labels) || void 0 === a ? void 0 : a.confirmable : \"Yes\"), React__default.createElement(\"button\", {\n    onClick: t,\n    role: \"cancellable-button\",\n    className: o\n  }, null !== (o = null == i ? void 0 : i.labels) && void 0 !== o && o.cancellable ? null === (o = null == i ? void 0 : i.labels) || void 0 === o ? void 0 : o.cancellable : \"No\")))), React__default.createElement(\"div\", {\n    className: \"confirm-box__overlay\",\n    onClick: function () {\n      null != i && i.closeOnOverlayClick && (d(!1), l(!1));\n    }\n  })) : null;\n},\n    confirm = function (t, o) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var n;\n    return __generator(this, function (e) {\n      switch (e.label) {\n        case 0:\n          return [4, document.getElementById(mountRootId)];\n\n        case 1:\n          return e.sent() ? [3, 4] : [4, document.createElement(\"div\")];\n\n        case 2:\n          return [4, (n = e.sent()).setAttribute(\"id\", mountRootId)];\n\n        case 3:\n          e.sent(), document.body.appendChild(n), e.label = 4;\n\n        case 4:\n          return [2, new Promise(function (e) {\n            e = React__default.createElement(ConfirmBox, {\n              resolver: e,\n              message: t,\n              options: o\n            }), e = React__default.createElement(Portal, null, e);\n            ReactDOM__default.render(e, document.getElementById(mountRootId));\n          })];\n      }\n    });\n  });\n};\n\nexports.confirm = confirm;","map":null,"metadata":{},"sourceType":"script"}